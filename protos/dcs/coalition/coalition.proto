syntax = "proto3";
package dcs.coalition;
import "dcs/common/common.proto";

// https://wiki.hoggitworld.com/view/DCS_singleton_coalition
service CoalitionService {
  // https://wiki.hoggitworld.com/view/DCS_func_getPlayers
  rpc GetPlayers(GetPlayersRequest) returns (GetPlayersResponse) {}

  // https://wiki.hoggitworld.com/view/DCS_func_getGroups
  rpc GetGroups(GetGroupsRequest) returns (GetGroupsResponse) {}

  /*
   * Get the Main Reference Point ("Bullseye") for the coalition
   *
   * This position is set at mission start and does not change for the duration
   * of the mission.
   *
   * See https://wiki.hoggitworld.com/view/DCS_func_getMainRefPoint for more
   * details
   */
  rpc GetMainReferencePoint(GetMainReferencePointRequest)
      returns (GetMainReferencePointResponse) {}
}

message GetMainReferencePointRequest {
  // A specific coalition must be used for this API call. Do not use
  // `COALITION_ALL`
  dcs.common.Coalition coalition = 1;
}

message GetMainReferencePointResponse {
  dcs.common.Position position = 1;
}

message GetPlayersRequest {
  dcs.common.Coalition coalition = 1;
}

message GetPlayersResponse {
  repeated dcs.common.Unit units = 1;
}

message GetGroupsRequest {
  dcs.common.Coalition coalition = 1;
  optional dcs.common.GroupCategory category = 2;
}

message GetGroupsResponse {
  repeated dcs.common.Group groups = 1;
}
